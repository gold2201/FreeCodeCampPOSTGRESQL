--
-- PostgreSQL database dump
--

-- Dumped from database version 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4)
-- Dumped by pg_dump version 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE salon;
--
-- Name: salon; Type: DATABASE; Schema: -; Owner: freecodecamp
--

CREATE DATABASE salon WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'C.UTF-8' LC_CTYPE = 'C.UTF-8';


ALTER DATABASE salon OWNER TO freecodecamp;

\connect salon

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: appointments; Type: TABLE; Schema: public; Owner: freecodecamp
--

CREATE TABLE public.appointments (
    appointment_id integer NOT NULL,
    customer_id integer NOT NULL,
    service_id integer NOT NULL,
    "time" character varying(50) NOT NULL,
    notes text,
    created_at timestamp with time zone DEFAULT now()
);


ALTER TABLE public.appointments OWNER TO freecodecamp;

--
-- Name: appointments_appointment_id_seq; Type: SEQUENCE; Schema: public; Owner: freecodecamp
--

ALTER TABLE public.appointments ALTER COLUMN appointment_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.appointments_appointment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: customers; Type: TABLE; Schema: public; Owner: freecodecamp
--

CREATE TABLE public.customers (
    customer_id integer NOT NULL,
    name character varying(255) NOT NULL,
    phone character varying(20) NOT NULL,
    email character varying(255),
    created_at timestamp with time zone DEFAULT now()
);


ALTER TABLE public.customers OWNER TO freecodecamp;

--
-- Name: customers_customer_id_seq; Type: SEQUENCE; Schema: public; Owner: freecodecamp
--

ALTER TABLE public.customers ALTER COLUMN customer_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.customers_customer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: services; Type: TABLE; Schema: public; Owner: freecodecamp
--

CREATE TABLE public.services (
    service_id integer NOT NULL,
    name character varying(255) NOT NULL,
    description text,
    price numeric(10,2)
);


ALTER TABLE public.services OWNER TO freecodecamp;

--
-- Name: services_service_id_seq; Type: SEQUENCE; Schema: public; Owner: freecodecamp
--

ALTER TABLE public.services ALTER COLUMN service_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.services_service_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: appointments; Type: TABLE DATA; Schema: public; Owner: freecodecamp
--

INSERT INTO public.appointments VALUES (1, 1, 2, '2025-10-05 14:00', 'First appointment for Ivan', '2025-09-26 07:00:51.134105-04');
INSERT INTO public.appointments VALUES (2, 2, 1, '2025-10-06 09:30', 'Anna prefers morning', '2025-09-26 07:00:51.134105-04');
INSERT INTO public.appointments VALUES (4, 8, 1, '10:30', NULL, '2025-09-30 15:35:53.715222-04');
INSERT INTO public.appointments VALUES (11, 14, 2, '12:23', NULL, '2025-09-30 15:38:53.062262-04');
INSERT INTO public.appointments VALUES (12, 14, 2, '13:45', NULL, '2025-09-30 15:41:27.052495-04');
INSERT INTO public.appointments VALUES (19, 14, 2, '13Ð–35', NULL, '2025-09-30 15:45:50.029045-04');
INSERT INTO public.appointments VALUES (26, 25, 1, '', NULL, '2025-09-30 15:47:33.881896-04');
INSERT INTO public.appointments VALUES (27, 25, 1, '', NULL, '2025-09-30 15:47:35.006454-04');
INSERT INTO public.appointments VALUES (28, 25, 1, '', NULL, '2025-09-30 15:47:36.12982-04');
INSERT INTO public.appointments VALUES (29, 25, 1, '', NULL, '2025-09-30 15:47:37.26859-04');
INSERT INTO public.appointments VALUES (30, 25, 1, '', NULL, '2025-09-30 15:47:38.389396-04');
INSERT INTO public.appointments VALUES (31, 25, 1, '', NULL, '2025-09-30 15:47:39.514412-04');
INSERT INTO public.appointments VALUES (32, 25, 1, '', NULL, '2025-09-30 15:48:23.292879-04');
INSERT INTO public.appointments VALUES (33, 25, 1, '', NULL, '2025-09-30 15:48:24.432543-04');
INSERT INTO public.appointments VALUES (34, 25, 1, '', NULL, '2025-09-30 15:48:25.567252-04');
INSERT INTO public.appointments VALUES (35, 25, 1, '', NULL, '2025-09-30 15:48:26.693808-04');
INSERT INTO public.appointments VALUES (36, 25, 1, '', NULL, '2025-09-30 15:48:27.811838-04');
INSERT INTO public.appointments VALUES (37, 25, 1, '', NULL, '2025-09-30 15:48:28.93686-04');
INSERT INTO public.appointments VALUES (38, 25, 1, '', NULL, '2025-09-30 15:49:56.702208-04');
INSERT INTO public.appointments VALUES (39, 25, 1, '', NULL, '2025-09-30 15:49:57.840614-04');
INSERT INTO public.appointments VALUES (40, 25, 1, '', NULL, '2025-09-30 15:49:58.985183-04');
INSERT INTO public.appointments VALUES (41, 25, 1, '', NULL, '2025-09-30 15:50:00.124341-04');
INSERT INTO public.appointments VALUES (42, 25, 1, '', NULL, '2025-09-30 15:50:01.260695-04');
INSERT INTO public.appointments VALUES (43, 25, 1, '', NULL, '2025-09-30 15:50:02.398015-04');
INSERT INTO public.appointments VALUES (50, 31, 1, '23', NULL, '2025-09-30 15:59:25.873297-04');
INSERT INTO public.appointments VALUES (51, 25, 1, '', NULL, '2025-09-30 15:59:32.480962-04');
INSERT INTO public.appointments VALUES (52, 25, 1, '', NULL, '2025-09-30 15:59:33.628876-04');
INSERT INTO public.appointments VALUES (53, 25, 1, '', NULL, '2025-09-30 15:59:34.775549-04');
INSERT INTO public.appointments VALUES (54, 25, 1, '', NULL, '2025-09-30 15:59:35.920275-04');
INSERT INTO public.appointments VALUES (55, 25, 1, '', NULL, '2025-09-30 15:59:37.063098-04');
INSERT INTO public.appointments VALUES (56, 25, 1, '', NULL, '2025-09-30 15:59:38.207497-04');
INSERT INTO public.appointments VALUES (63, 25, 1, '', NULL, '2025-09-30 16:02:29.967989-04');
INSERT INTO public.appointments VALUES (64, 25, 1, '', NULL, '2025-09-30 16:02:31.123174-04');
INSERT INTO public.appointments VALUES (65, 25, 1, '', NULL, '2025-09-30 16:02:32.267473-04');
INSERT INTO public.appointments VALUES (66, 25, 1, '', NULL, '2025-09-30 16:02:33.407336-04');
INSERT INTO public.appointments VALUES (67, 25, 1, '', NULL, '2025-09-30 16:02:34.547417-04');
INSERT INTO public.appointments VALUES (68, 25, 1, '', NULL, '2025-09-30 16:02:35.689553-04');
INSERT INTO public.appointments VALUES (69, 25, 1, '', NULL, '2025-09-30 16:05:34.357038-04');
INSERT INTO public.appointments VALUES (70, 25, 1, '', NULL, '2025-09-30 16:05:35.502961-04');
INSERT INTO public.appointments VALUES (71, 25, 1, '', NULL, '2025-09-30 16:05:36.645198-04');
INSERT INTO public.appointments VALUES (72, 25, 1, '', NULL, '2025-09-30 16:05:37.791013-04');
INSERT INTO public.appointments VALUES (73, 25, 1, '', NULL, '2025-09-30 16:05:38.936995-04');
INSERT INTO public.appointments VALUES (74, 25, 1, '', NULL, '2025-09-30 16:05:40.084247-04');
INSERT INTO public.appointments VALUES (75, 37, 3, '10:30', NULL, '2025-09-30 16:07:50.59427-04');


--
-- Data for Name: customers; Type: TABLE DATA; Schema: public; Owner: freecodecamp
--

INSERT INTO public.customers VALUES (1, 'Ivan Petrov', '+7-910-000-0000', 'ivan@example.com', '2025-09-26 07:00:51.098744-04');
INSERT INTO public.customers VALUES (2, 'Anna Smirnova', '+7-910-111-1111', 'anna@example.com', '2025-09-26 07:00:51.098744-04');
INSERT INTO public.customers VALUES (7, 'DIMA', '345-234-23', NULL, '2025-09-30 15:32:37.807954-04');
INSERT INTO public.customers VALUES (8, 'Petrol', '111-111-11', NULL, '2025-09-30 15:35:48.348672-04');
INSERT INTO public.customers VALUES (14, 'Oly', '555-55-555', NULL, '2025-09-30 15:38:49.142657-04');
INSERT INTO public.customers VALUES (25, '', '', NULL, '2025-09-30 15:47:33.839256-04');
INSERT INTO public.customers VALUES (31, '23', '233232', NULL, '2025-09-30 15:59:25.062873-04');
INSERT INTO public.customers VALUES (37, 'Fabio', '555-555-5555', NULL, '2025-09-30 16:07:43.278362-04');


--
-- Data for Name: services; Type: TABLE DATA; Schema: public; Owner: freecodecamp
--

INSERT INTO public.services VALUES (1, 'Basic Consultation', '30-minute consultation', 30.00);
INSERT INTO public.services VALUES (2, 'Full Service', 'Comprehensive 90-minute service', 120.00);
INSERT INTO public.services VALUES (3, 'Express Service', 'Quick 15-minute express option', 20.00);


--
-- Name: appointments_appointment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: freecodecamp
--

SELECT pg_catalog.setval('public.appointments_appointment_id_seq', 81, true);


--
-- Name: customers_customer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: freecodecamp
--

SELECT pg_catalog.setval('public.customers_customer_id_seq', 42, true);


--
-- Name: services_service_id_seq; Type: SEQUENCE SET; Schema: public; Owner: freecodecamp
--

SELECT pg_catalog.setval('public.services_service_id_seq', 1, false);


--
-- Name: appointments appointments_pkey; Type: CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT appointments_pkey PRIMARY KEY (appointment_id);


--
-- Name: customers customers_pkey; Type: CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.customers
    ADD CONSTRAINT customers_pkey PRIMARY KEY (customer_id);


--
-- Name: services services_pkey; Type: CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.services
    ADD CONSTRAINT services_pkey PRIMARY KEY (service_id);


--
-- Name: customers uq_customers_phone; Type: CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.customers
    ADD CONSTRAINT uq_customers_phone UNIQUE (phone);


--
-- Name: appointments fk_appointments_customer; Type: FK CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT fk_appointments_customer FOREIGN KEY (customer_id) REFERENCES public.customers(customer_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: appointments fk_appointments_service; Type: FK CONSTRAINT; Schema: public; Owner: freecodecamp
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT fk_appointments_service FOREIGN KEY (service_id) REFERENCES public.services(service_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- PostgreSQL database dump complete
--

